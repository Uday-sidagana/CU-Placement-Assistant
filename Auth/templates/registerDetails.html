{% extends 'base.html' %}

{% block title %}regDetails{% endblock %}

{% block content %}

<h3>Student Registration Details</h3>
<h4>Fill your details to make your work easier</h4>

<form action="/registerDetails" method="POST" enctype="multipart/form-data">
    <p>Email:</p>
    <input type="email" placeholder="Personal Email" name="email" required>
    
    <p>Full Name:</p>
    <input type="text" placeholder="Name" name="name" required>

    <p>UID:</p>
    <input type="text" placeholder="University Roll.no" name="uid" required>

    <p>University Mail:</p>
    <input type="email" placeholder="University Mail" name="umail" required>

    <p>Xᵗʰ Marks:</p>
    <input type="number" placeholder="10ᵗʰ Marks" name="x" required>

    <p>Note: If GPA, multiply the grade with 9.5 i.e. 10GPA will be 10x9.5= 95. And don't put '%' symbol at the end</p><br>

    <p>XIIᵗʰ Marks:</p>
    <input type="number" placeholder="12ᵗʰ Marks" name="xii" required>


    <p>Note: multiply CGPA with 10 to get percentage.</p><br>

    <p>University:</p>
    <select name="university" required>
        <option value="" disabled selected>Select your university</option>
        <option value="Chandigarh University">Chandigarh University</option>
        <option value="CGC Landran">CGC Landran</option>
    </select>


    <p>Select Number of Active Backlogs:</p>
<select name="backlogs" required>
    <option value="" disabled selected>No. of Active Backlogs</option>
    <option>0</option>
    <option>1</option>
    <option>2</option>
    <option>3</option>
    <option>4</option>
    <option>5</option>
    <option>6</option>
    <option>7</option>
    <option>8</option>
    <option value="other">Other (Please Specify)</option>
</select>
<input type="text" name="other_backlogs" placeholder="Specify if Other" style="display:none;">




    <p>Select Your Zone:</p>
    <select name="zone" required>
        <option value="" disabled selected>Select a zone</option>
        <option value="North India">North India</option>
        <option value="South India">South India</option>
        <option value="East India">East India</option>
        <option value="West India">West India</option>
        <option value="Central India">Central India</option>
        <option value="Northeast India">Northeast India</option>
    </select>


    <p>Upload File:</p>
    <input type="file" name="file" required><br>


    <input type="submit" value="Submit">
</form>


<a href="{{url_for('login')}}">Skip</a>

{% endblock %}

{% block scripts %}
<script>
document.addEventListener("DOMContentLoaded", function() {
    let backlogsDropdown = document.getElementById("backlogs");
    let otherInput = document.getElementById("other_backlogs");

    backlogsDropdown.addEventListener("change", function() {
        if (this.value === "other") {
            otherInput.style.display = "block";
        } else {
            otherInput.style.display = "none";
            otherInput.value = ""; // Clear input if not needed
        }
    });
});

function validateForm() {
    let backlogsDropdown = document.getElementById("backlogs").value;
    let otherInput = document.getElementById("other_backlogs").value.trim();

    if (backlogsDropdown === "other" && otherInput === "") {
        alert("Please specify the number of backlogs.");
        return false;
    }
    return true;
}
</script>
{% endblock %}